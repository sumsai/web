(window["webpackJsonp_stars"]=window["webpackJsonp_stars"]||[]).push([["Index"],{"0138":function(t,e,a){"use strict";var r=a("86cc"),s=a.n(r);s.a},"86cc":function(t,e,a){},"8a00":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home",class:{"home-sub":t.overlayShow}},[t.overlayShow?t._e():a("div",{staticClass:"home-head",class:{"home-head-move":t.moveStatus}},[t.reportList.length?a("img",{staticClass:"report-img",attrs:{src:t.baseData.shareImg},on:{click:t.seeRport}}):a("img",{staticClass:"report-img",attrs:{src:t.baseData.baseImg}}),t.reportList.length?t._e():a("div",{staticClass:"see-btn",attrs:{id:"sad"},on:{click:t.seeRport}},[t._v(" "+t._s(t.baseData.baseText)+" ")])]),a("div",{staticClass:"home-content"},[a("div",{staticClass:"content-main"},[a("p",{staticClass:"content-title"},[t._v("热门测试推荐")]),a("div",{staticClass:"recommend-product"},t._l(t.productList,(function(e,r){return a("div",{key:r,staticClass:"product-area",on:{click:function(a){return t.goProduct(e.host)}}},[a("img",{staticClass:"product",attrs:{src:e.img}}),a("p",{staticClass:"use-num--wrapper"},[a("span",{staticClass:"use-num"},[t._v(t._s(t._f("countFormat")(e.num)))]),t._v("人已测试 ")]),a("p",{staticClass:"product-name"},[t._v(t._s(e.title))])])})),0),a("p",{staticClass:"content-title"},[t._v("我的星宿报告")]),t.swiper?a("div",{staticClass:"report-area"},[a("div",{staticClass:"add-report",on:{click:t.addReport}},[t._v(" 添加报告 "),a("van-icon",{attrs:{name:"plus"}})],1),a("van-tabs",{attrs:{color:t.color,"title-active-color":t.color,"title-inactive-color":"#747474",background:"transparent",animated:"",swipeable:"",border:!1,ellipsis:!1},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.reportList,(function(e){return a("van-tab",{key:e.id,attrs:{title:e.name}},[a("div",{staticClass:"swipe-area"},[t._l(e.report,(function(r){return a("div",{key:r.id,staticClass:"swipe-area-item",on:{click:function(){return t.goto(e.id,r.id,r.lock)}}},[a("img",{staticClass:"swipe-icon",attrs:{src:r.icon}}),a("span",{staticClass:"title"},[t._v(t._s(r.name))]),r.lock?a("span",{staticClass:"buy-num"},[t._v(t._s(r.num))]):t._e(),a("div",{staticClass:"money-icon"},[a("van-icon",{attrs:{name:r.lock?"lock":"arrow",dot:!!r.lock}}),r.lock?a("div",{staticClass:"money"},[t._v("￥"+t._s(r.money))]):t._e()],1)])})),e.unlock?a("div",{staticClass:"unlock-btn",on:{click:function(){return t.goto(e.id,0,!0)}}},[t._v(" 解锁全部付费项 "),a("span",{staticClass:"money"},[t._v("￥"+t._s(e.money))])]):t._e()],2)])})),1)],1):t._e(),0===t.reportList.length&&t.swiper?a("div",{staticClass:"no-report-area"},[a("p",{staticClass:"no-report-mark"},[t._v("目前尚无报告")]),a("p",{staticClass:"add-report"},[a("van-icon",{attrs:{name:"plus"}})],1),a("p",[t._v("添加星宿测算报告")])]):t._e(),t.swiper?t._e():a("div",{staticClass:"customize-area"},[t._t("default")],2)])]),a("van-overlay",{attrs:{show:t.overlayShow,"z-index":"9999"},on:{click:function(e){t.overlayShow=!1}}}),a("img",{directives:[{name:"show",rawName:"v-show",value:t.overlayShow,expression:"overlayShow"}],staticClass:"save-img",attrs:{src:t.baseData.shareImg},on:{click:function(t){t.stopPropagation()},touchmove:function(t){t.preventDefault()}}})],1)},s=[],n=(a("a4d3"),a("4de4"),a("4160"),a("b0c0"),a("e439"),a("dbb4"),a("b64b"),a("159b"),a("e587")),o=a("6b47"),i=a.n(o),c=(a("96cf"),a("89ba")),u=a("2fa7"),p=a("bc3a"),l=a.n(p),d=a("6051"),v=a("6d6b"),h=a("2f62");function m(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function _(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?m(a,!0).forEach((function(e){Object(u["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):m(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f={name:"HomeBase",props:{swiper:{type:Boolean,default:!0},color:{type:String,default:"#ebae6e"}},data:function(){return{active:"",moveStatus:!1,overlayShow:!1,productList:[],baseData:{baseImg:"https://via.placeholder.com/600x800/ff0",shareImg:"",baseText:"添加星宿报告",activeText:"查看我的星宿守护神"}}},computed:_({},Object(h["c"])(["reportList"]),{},Object(h["b"])(["current"])),created:function(){var t=Object(c["a"])(i.a.mark((function t(){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getReports();case 2:this.updatePoster(),this.init();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),filters:{countFormat:function(t){return t<1e4?t:t<1e6?Math.round(t/1e4)+"W+":t<1e7?Math.round(t/1e5)+"0W+":Math.round(t/1e6)+"00W+"}},methods:{init:function(){this.getProduct()},getProduct:function(){var t=Object(c["a"])(i.a.mark((function t(){var e,a;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="test"===Object({VUE_APP_API_URL:"http://www.zymao.cn",VUE_APP_PATH:"//192.168.31.77",VUE_APP_PORT:"8012",NODE_ENV:"production",VUE_APP_ROOT:"stars-root",VUE_APP_BASE:"stars",VUE_APP_PREFIX:"/xingxiu",VUE_APP_API_TIMEOUT:"5000",BASE_URL:"//192.168.31.77:8012/"}).VUE_APP_ENV?"http://agent-pro-final.8geek.com":"https://agent-pro.mgmtdecoder.com",t.next=3,l.a.get("".concat(e,"/api/v2/GetWxappBanner?wxapp_id=5"));case 3:a=t.sent,0===a.data.error?this.productList=a.data.data.list:this.$toast.fail(a.data.desc);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),goto:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a?this.$router.push({name:"unlock",params:{id:t,itemId:e}}):this.$router.push({name:"report",params:{id:t,scrollTo:"panel-".concat(e)}})},goProduct:function(){},seeRport:function(){var t=this;return this.reportList.length?(this.moveStatus=!0,setTimeout((function(){t.moveStatus=!1,t.overlayShow=!0}),1e3)):this.addReport()},getReports:function(){var t=Object(c["a"])(i.a.mark((function t(){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getList");case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),addReport:function(){this.$router.push({name:"addReport"})},updatePoster:function(){var t=Object(c["a"])(i.a.mark((function t(){var e,a,r;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=window.__S_GET_STORAGE("poster"),e||!this.reportList.length){t.next=8;break}return a=Object(n["a"])(this.reportList,1),r=a[0].id,t.next=5,this.$store.dispatch("getReport",{id:r});case 5:return t.next=7,this.genPoster();case 7:e=window.__S_GET_STORAGE("poster");case 8:this.baseData.shareImg=e;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),genPoster:function(){var t=Object(c["a"])(i.a.mark((function t(){var e,a,r,s,n,o,c,u,p,l,h,m,_;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.current.user||{},a=e.name,r=void 0===a?"":a,s=e.qrcode,n=void 0===s?"":s,o=this.current.xingxiu||{},c=o.star_saint,u=void 0===c?"":c,p=o.title,l=void 0===p?"":p,h=o.orientation,m=void 0===h?"":h,t.next=4,Object(v["a"])(d["a"],{name:r,qr:n,guardName:u,position:m,star:l});case 4:return _=t.sent,t.abrupt("return",window.__S_SET_STORAGE("poster",_));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},b=f,w=(a("0138"),a("2877")),g=Object(w["a"])(b,r,s,!1,null,"16d614ec",null);e["default"]=g.exports}}]);